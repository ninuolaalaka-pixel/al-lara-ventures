<!DOCTYPE html>
<html lang="en">
<head>
  <script>
  window._tabbyPublicKey = "pk_test_019c445e-ce8a-936c-9575-c76f91bed644";
</script>
  <script src="https://checkout.tabby.ai/tabby-promo.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AL LARA VENTURES provides premium cleaning services and highâ€‘quality cleaning products across the UAE. Book professional cleaners or shop our products online.">  
  <title>Your Cart | AL LARA VENTURES UAE</title>
   <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>

<body>

  <!-- HEADER -->
  <header>
    <div class="container">
      <nav style="display:flex; justify-content:space-between; align-items:center;">
        
        <!-- Logo + Text Container -->
       <div style="display:flex; align-items:center; gap:10px;">
  
  <!-- Logo Image -->
  <a href="index.html">
    <img src="images\Service Business Logo AL LARA VENTURES.png" alt="AL LARA VENTURES Logo" style="height:40px; width:auto;">
  </a>

  <!-- Text -->
  <strong style="color:#2e7d32; font-size:22px; font-weight:800;">
    <a href="index.html" class="logo-link">AL LARA VENTURES</a>
  </strong>
</div>

        <div style="display:flex; gap:20px; align-items:center;">
          <a href="index.html" class="nav-link">Home</a>
          <a href="uae-store.html" class="nav-link">Foodstuff (UAE)</a>
          <a href="cleaning.html" class="nav-link">Cleaning</a>
          <a href="coming-soon.html" class="nav-link">Nigeria Store</a>
          <a href="index.html#about" class="nav-link">About</a>
          <a href="index.html#contact" class="nav-link">Contact</a>

          <a href="cart.html" class="cart-link">
            ðŸ›’ <span id="cart-count">0</span>
          </a>
        </div>

      </nav>
    </div>
  </header> 


  <!-- INLINE HERO -->
  <section class="hero fade-up" style="background:#fff8ec; padding:80px 0;">
    <div class="container hero-inner">
       <!-- HERO IMAGE (added) -->
    <div class="hero-image">
      <img src="images/uae-store/cartpic-1.avif" alt="Cart Hero">
    </div>

      <div class="hero-text">
        <h1>Your Cart</h1>
        <p>Review your items before checkout.</p>
      </div>
    </div>
  </section>

  <!-- CART CONTENT -->
  <section style="padding:60px 0;">
    <div class="container">
    <div class="cart-table-wrapper">
      <table style="width:100%; border-collapse:collapse; margin-bottom:30px;">
        <thead>
          <tr style="background:#f3f3f3;">
            <th style="padding:12px; text-align:left;">Item</th>
            <th style="padding:12px; text-align:left;">Price</th>
            <th style="padding:12px; text-align:left;">Quantity</th>
            <th style="padding:12px; text-align:left;">Total</th>
            <th style="padding:12px; text-align:left;">Action</th>
          </tr>
        </thead>
        <tbody id="cart-items"></tbody>
      </table>
      </div>

      <h2 style="margin-bottom:20px; color:#2e7d32;">
        Cart Total: AED <span id="cart-total">0.00</span>
      </h2>

<span
  id="tabby-cart-snippet"
  class="tabby-promo"
  data-tabby-amount="0.00"
  data-tabby-currency="AED"
  data-tabby-lang="en">
</span> 

      <div class="checkout-buttons">
      <a href="checkout.html">
      <button id="go-to-uae-checkout" style="
        padding:12px 25px;
        background:#1e9925;
        color:#fff;
        border:none;
        border-radius:6px;
        cursor:pointer;
        font-size:16px;
        font-family: 'Poppins', sans-serif; /* Change to your site's font */
         font-size: 16px;
      font-weight: 600;
      font-family: inherit;
      ">
        Proceed to Checkout(UAE)
      </button>
      </a>
    </div>


     <div class="checkout-buttons">
      <a href="checkout.html" style="text-decoration: none;">
      <button id="go-to-tabby-checkout" style="
    width: 100%;
    padding: 14px;
    background: #1e9925; /* green */
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    cursor: pointer;
    transition: 0.2s;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    font-family: 'Poppins', sans-serif; /* Change to your site's font */
      font-size: 16px;
      font-weight: 600;
      font-family: inherit;
      ">
      <img 
  src="/images/tabby-badge.png" 
  style="height:20px; cursor: pointer;"
      > Pay with Tabby
      </button>
      </a>
    </div>
  </section>

  <script src="js/cart.js"></script>

 <script>
function updateCartTotals() {
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  let total = 0;

  cart.forEach(item => {
    total += (item.price || 0) * (item.quantity || 1);
  });

  const totalStr = total.toFixed(2);
  document.getElementById("cart-total").textContent = totalStr;

  const snippet = document.getElementById("tabby-cart-snippet");
  if (snippet) {
    snippet.setAttribute("data-tabby-amount", totalStr);
    
    // This part refreshes the widget whenever the cart total changes
    if (window.TabbyPromo && typeof window.TabbyPromo.refresh === "function") {
      window.TabbyPromo.refresh();
    }
  }
}

document.addEventListener("DOMContentLoaded", function() {
  // 1. Create the Promo object directly
  if (window.TabbyPromo) {
    try {
      new TabbyPromo({
        selector: '#tabby-cart-snippet', // Matches your ID
        currency: 'AED',
        price: document.getElementById("cart-total").textContent || '0.00',
        installmentsCount: 4,
        lang: 'en',
        source: 'cart',
        publicKey: window._tabbyPublicKey,
        merchantCode: 'ALVIF'
      });
    } catch (err) {
      console.error("Tabby widget failed to load:", err);
    }
  }
  
  // 2. Update the totals
  updateCartTotals();
});
</script>

</body>
</html>